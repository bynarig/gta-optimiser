(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1520:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>$});var a=r(2311),o=r(2847),l=r(6961),n=r(9414),s=r(9189),i=r(5641),d=r(4142),c=r(8051);function p(e){let{className:t,...r}=e;return(0,a.jsx)(c.b,{"data-slot":"label",className:(0,d.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...r})}let u=s.Op,m=o.createContext({}),b=e=>{let{...t}=e;return(0,a.jsx)(m.Provider,{value:{name:t.name},children:(0,a.jsx)(s.xI,{...t})})},g=()=>{let e=o.useContext(m),t=o.useContext(x),{getFieldState:r}=(0,s.xW)(),a=(0,s.lN)({name:e.name}),l=r(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=t;return{id:n,name:e.name,formItemId:"".concat(n,"-form-item"),formDescriptionId:"".concat(n,"-form-item-description"),formMessageId:"".concat(n,"-form-item-message"),...l}},x=o.createContext({});function f(e){let{className:t,...r}=e,l=o.useId();return(0,a.jsx)(x.Provider,{value:{id:l},children:(0,a.jsx)("div",{"data-slot":"form-item",className:(0,d.cn)("grid gap-2",t),...r})})}function h(e){let{className:t,...r}=e,{error:o,formItemId:l}=g();return(0,a.jsx)(p,{"data-slot":"form-label","data-error":!!o,className:(0,d.cn)("data-[error=true]:text-destructive",t),htmlFor:l,...r})}function v(e){let{...t}=e,{error:r,formItemId:o,formDescriptionId:l,formMessageId:n}=g();return(0,a.jsx)(i.DX,{"data-slot":"form-control",id:o,"aria-describedby":r?"".concat(l," ").concat(n):"".concat(l),"aria-invalid":!!r,...t})}function y(e){var t;let{className:r,...o}=e,{error:l,formMessageId:n}=g(),s=l?String(null!=(t=null==l?void 0:l.message)?t:""):o.children;return s?(0,a.jsx)("p",{"data-slot":"form-message",id:n,className:(0,d.cn)("text-destructive text-sm",r),...o,children:s}):null}var w=r(6450);function S(e){let{className:t,type:r,...o}=e;return(0,a.jsx)("input",{type:r,"data-slot":"input",className:(0,d.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground","dark:bg-input","border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...o})}var j=r(4647);function N(e){let{className:t,defaultValue:r,value:l,min:n=0,max:s=100,...i}=e,c=o.useMemo(()=>Array.isArray(l)?l:Array.isArray(r)?r:[n,s],[l,r,n,s]);return(0,a.jsxs)(j.bL,{"data-slot":"slider",defaultValue:r,value:l,min:n,max:s,className:(0,d.cn)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...i,children:[(0,a.jsx)(j.CC,{"data-slot":"slider-track",className:(0,d.cn)("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:(0,a.jsx)(j.Q6,{"data-slot":"slider-range",className:(0,d.cn)("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:c.length},(e,t)=>(0,a.jsx)(j.zi,{"data-slot":"slider-thumb",className:(0,d.cn)("border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50")},t))]})}var k=r(9009);function A(e){let{className:t,...r}=e;return(0,a.jsx)(k.bL,{"data-slot":"switch",className:(0,d.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:(0,a.jsx)(k.zi,{"data-slot":"switch-thumb",className:(0,d.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var C=r(4168),z=r(6376),F=r(2786),_=r(1585);function O(e){let{...t}=e;return(0,a.jsx)(C.bL,{"data-slot":"select",...t})}function M(e){let{...t}=e;return(0,a.jsx)(C.WT,{"data-slot":"select-value",...t})}function V(e){let{className:t,size:r="default",children:o,...l}=e;return(0,a.jsxs)(C.l9,{"data-slot":"select-trigger","data-size":r,className:(0,d.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...l,children:[o,(0,a.jsx)(C.In,{asChild:!0,children:(0,a.jsx)(z.A,{className:"size-4 opacity-50"})})]})}function L(e){let{className:t,children:r,position:o="popper",...l}=e;return(0,a.jsx)(C.ZL,{children:(0,a.jsxs)(C.UC,{"data-slot":"select-content",className:(0,d.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===o&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:o,...l,children:[(0,a.jsx)(E,{}),(0,a.jsx)(C.LM,{className:(0,d.cn)("p-1","popper"===o&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:r}),(0,a.jsx)(R,{})]})})}function D(e){let{className:t,children:r,...o}=e;return(0,a.jsxs)(C.q7,{"data-slot":"select-item",className:(0,d.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...o,children:[(0,a.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(C.VF,{children:(0,a.jsx)(F.A,{className:"size-4"})})}),(0,a.jsx)(C.p4,{children:r})]})}function E(e){let{className:t,...r}=e;return(0,a.jsx)(C.PP,{"data-slot":"select-scroll-up-button",className:(0,d.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(_.A,{className:"size-4"})})}function R(e){let{className:t,...r}=e;return(0,a.jsx)(C.wn,{"data-slot":"select-scroll-down-button",className:(0,d.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(z.A,{className:"size-4"})})}function P(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,d.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}function B(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,d.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function Q(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,d.cn)("leading-none font-semibold",t),...r})}function U(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,d.cn)("text-muted-foreground text-sm",t),...r})}function H(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,d.cn)("px-6",t),...r})}let I={graphics:"Graphics Settings",system:"System Settings",audio:"Audio Settings",video:"Video Settings",VideoCardDescription:"Hardware Info",version:"General",configSource:"General"},W={"graphics.Tessellation":{label:"Tessellation",component:"select",props:{options:["0","1","2","3"],labels:["Off","Normal","High","Ultra"]}},"graphics.LodScale":{label:"Level of Detail Scaling",component:"slider",props:{min:0,max:5,step:.01}},"graphics.PedLodBias":{label:"Pedestrian LOD Bias",component:"slider",props:{min:-1,max:1,step:.01}},"graphics.VehicleLodBias":{label:"Vehicle LOD Bias",component:"slider",props:{min:-1,max:1,step:.01}},"graphics.ShadowQuality":{label:"Shadow Quality",component:"select",props:{options:["0","1","2","3"],labels:["Off","Normal","High","Ultra"]}},"graphics.ReflectionQuality":{label:"Reflection Quality",component:"select",props:{options:["0","1","2","3"],labels:["Off","Normal","High","Ultra"]}},"graphics.ReflectionMSAA":{label:"Reflection MSAA",component:"select",props:{options:["0","2","4","8"],labels:["Off","2x","4x","8x"]}},"graphics.SSAO":{label:"SSAO",component:"select",props:{options:["0","1","2"],labels:["Off","Low","High"]}},"graphics.AnisotropicFiltering":{label:"Anisotropic Filtering",component:"select",props:{options:["0","2","4","8","16"]}},"graphics.MSAA":{label:"MSAA",component:"select",props:{options:["0","2","4","8"]}},"graphics.MSAAFragments":{label:"MSAA Fragments",component:"input",props:{type:"number",readonly:!0}},"graphics.MSAAQuality":{label:"MSAA Quality",component:"input",props:{type:"number",readonly:!0}},"graphics.SamplingMode":{label:"Sampling Mode",component:"input",props:{type:"number",readonly:!0}},"graphics.TextureQuality":{label:"Texture Quality",component:"select",props:{options:["0","1","2"],labels:["Normal","High","Ultra"]}},"graphics.ParticleQuality":{label:"Particle Quality",component:"select",props:{options:["-1","0","1","2"],labels:["Auto","Normal","High","Ultra"]}},"graphics.WaterQuality":{label:"Water Quality",component:"select",props:{options:["-1","0","1","2"],labels:["Auto","Normal","High","Ultra"]}},"graphics.GrassQuality":{label:"Grass Quality",component:"select",props:{options:["0","1","2"],labels:["Normal","High","Ultra"]}},"graphics.ShaderQuality":{label:"Shader Quality",component:"select",props:{options:["0","1","2"],labels:["Normal","High","Ultra"]}},"graphics.Shadow_SoftShadows":{label:"Soft Shadows",component:"select",props:{options:["0","1","2"],labels:["Sharp","Soft","Softer"]}},"graphics.UltraShadows_Enabled":{label:"Ultra Shadows",component:"switch"},"graphics.Shadow_ParticleShadows":{label:"Particle Shadows",component:"switch"},"graphics.Shadow_Distance":{label:"Shadow Distance",component:"slider",props:{min:0,max:2,step:.01}},"graphics.Shadow_LongShadows":{label:"Long Shadows",component:"switch"},"graphics.Shadow_SplitZStart":{label:"Shadow Split Z Start",component:"slider",props:{min:-5,max:5,step:.01,readonly:!0}},"graphics.Shadow_SplitZEnd":{label:"Shadow Split Z End",component:"slider",props:{min:-5,max:5,step:.01,readonly:!0}},"graphics.Shadow_aircraftExpWeight":{label:"Aircraft Exp. Weight",component:"slider",props:{min:-5,max:5,step:.01,readonly:!0}},"graphics.Shadow_DisableScreenSizeCheck":{label:"Disable Screen Size Check",component:"switch",props:{readonly:!0}},"graphics.Reflection_MipBlur":{label:"Reflection Mip Blur",component:"switch"},"graphics.FXAA_Enabled":{label:"FXAA Enabled",component:"switch"},"graphics.TXAA_Enabled":{label:"TXAA Enabled",component:"switch"},"graphics.Lighting_FogVolumes":{label:"Lighting Fog Volumes",component:"switch"},"graphics.Shader_SSA":{label:"Shader SSA",component:"switch"},"graphics.DX_Version":{label:"DirectX Version",component:"text",props:{readonly:!0}},"graphics.CityDensity":{label:"City Density",component:"slider",props:{min:0,max:1,step:.01}},"graphics.PedVarietyMultiplier":{label:"Pedestrian Variety Multiplier",component:"slider",props:{min:-10,max:10,step:.1}},"graphics.VehicleVarietyMultiplier":{label:"Vehicle Variety Multiplier",component:"slider",props:{min:-10,max:10,step:.1}},"graphics.PostFX":{label:"Post FX",component:"select",props:{options:["0","1","2"],labels:["Off","Normal","High"]}},"graphics.DoF":{label:"Depth of Field",component:"switch"},"graphics.HdStreamingInFlight":{label:"HD Streaming In Flight",component:"switch"},"graphics.MaxLodScale":{label:"Max LOD Scale",component:"slider",props:{min:-1,max:1,step:.01}},"graphics.MotionBlurStrength":{label:"Motion Blur Strength",component:"slider",props:{min:0,max:1,step:.01}},"system.numBytesPerReplayBlock":{label:"Bytes Per Replay Block",component:"text",props:{readonly:!0}},"system.numReplayBlocks":{label:"Number of Replay Blocks",component:"text",props:{readonly:!0}},"system.maxSizeOfStreamingReplay":{label:"Max Streaming Replay Size",component:"text",props:{readonly:!0}},"system.maxFileStoreSize":{label:"Max File Store Size",component:"text",props:{readonly:!0}},"audio.Audio3d":{label:"3D Audio",component:"switch"},"video.AdapterIndex":{label:"Adapter Index",component:"text",props:{readonly:!0}},"video.OutputIndex":{label:"Output Index",component:"text",props:{readonly:!0}},"video.ScreenWidth":{label:"Screen Width",component:"text",props:{readonly:!0}},"video.ScreenHeight":{label:"Screen Height",component:"text",props:{readonly:!0}},"video.RefreshRate":{label:"Refresh Rate",component:"text",props:{readonly:!0}},"video.Windowed":{label:"Window Mode",component:"select",props:{options:["0","1","2"],labels:["Fullscreen","Windowed","Borderless Windowed"]}},"video.VSync":{label:"V-Sync",component:"select",props:{options:["0","1","2"],labels:["Off","On","Half"]}},"video.Stereo":{label:"Stereo",component:"text",props:{readonly:!0}},"video.Convergence":{label:"Convergence",component:"slider",props:{min:0,max:1,step:.001}},"video.Separation":{label:"Separation",component:"slider",props:{min:-2,max:2,step:.001}},"video.PauseOnFocusLoss":{label:"Pause On Focus Loss",component:"switch"},"video.AspectRatio":{label:"Aspect Ratio",component:"select",props:{options:["0","1","2","3","4"],labels:["Auto","4:3","5:4","16:9","16:10"]}},VideoCardDescription:{label:"Video Card",component:"text",props:{readonly:!0}},version:{label:"Version",component:"text",props:{readonly:!0}},configSource:{label:"Config Source",component:"text",props:{readonly:!0}}},T=e=>{let{config:t,onSave:r}=e,[n,s]=(0,o.useState)(t);(0,o.useEffect)(()=>{s(t)},[t]);let i=(0,o.useCallback)((e,t)=>{s(r=>({...r,[e]:{...r[e],value:t}}))},[]),d=Object.keys(n).reduce((e,t)=>{let r=I[t.split(".")[0]]||"Other Settings";e[r]||(e[r]=[]);let a=W[t];if(a&&"container"!==n[t].type){var o;(null==(o=a.props)?void 0:o.readonly)&&"text"!==a.component||e[r].push(t)}else a||"container"===n[t].type||e[r].push(t);return e},{}),c=(e,t)=>{let r=W[e],o=(null==r?void 0:r.props)&&"readonly"in r.props&&r.props.readonly||!1;if(!r||o&&"text"!==r.component){var l;return(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-border last:border-b-0",children:[(0,a.jsxs)(p,{htmlFor:e,className:"text-sm font-medium capitalize text-foreground",children:[null==(l=e.split(".").pop())?void 0:l.replace(/([A-Z])/g," $1").trim(),":"]}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:String(t.value)})]},e)}switch(r.component){case"switch":{let l=r.props;return(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-border last:border-b-0",children:[(0,a.jsx)(p,{htmlFor:e,className:"text-sm font-medium text-foreground",children:r.label}),(0,a.jsx)(A,{id:e,checked:!!t.value,onCheckedChange:t=>{i(e,t)},disabled:o||(null==l?void 0:l.readonly)||!1})]},e)}case"slider":{let l=r.props;return(0,a.jsxs)("div",{className:"py-2 border-b border-border last:border-b-0",children:[(0,a.jsxs)(p,{htmlFor:e,className:"text-sm font-medium block mb-2 text-foreground",children:[r.label,":"," ",(0,a.jsx)("span",{className:"font-normal text-muted-foreground",children:t.value.toFixed(2*(.01===l.step))})]}),(0,a.jsx)(N,{id:e,min:l.min,max:l.max,step:l.step,value:[t.value],onValueChange:t=>{i(e,t[0])},className:"w-full",disabled:o||l.readonly||!1})]},e)}case"select":{let l=r.props;return(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-border last:border-b-0",children:[(0,a.jsx)(p,{htmlFor:e,className:"text-sm font-medium text-foreground",children:r.label}),(0,a.jsxs)(O,{value:String(t.value),onValueChange:r=>{i(e,"number"===t.type?Number(r):r)},disabled:o||l.readonly||!1,children:[(0,a.jsx)(V,{id:e,className:"w-[180px] bg-input text-foreground border-border backdrop-blur-2xl backdrop-saturate-150",children:(0,a.jsx)(M,{placeholder:r.label})}),(0,a.jsx)(L,{className:"bg-popover text-popover-foreground border-border backdrop-blur-2xl backdrop-saturate-150",children:l.options.map((e,t)=>(0,a.jsx)(D,{value:e,className:"hover:bg-accent hover:text-accent-foreground",children:l.labels?l.labels[t]:e},e))})]})]},e)}case"text":return r.props,(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-border last:border-b-0",children:[(0,a.jsxs)(p,{className:"text-sm font-medium text-foreground",children:[r.label,":"]}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:String(t.value)})]},e);default:{let l=r.props;return(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-border last:border-b-0",children:[(0,a.jsx)(p,{htmlFor:e,className:"text-sm font-medium text-foreground",children:r.label}),(0,a.jsx)(S,{id:e,type:(null==l?void 0:l.type)||"text",value:String(t.value),onChange:r=>{i(e,"number"===t.type?Number(r.target.value):r.target.value)},className:"w-1/2 bg-input text-foreground border-border backdrop-blur-2xl backdrop-saturate-150",readOnly:o||(null==l?void 0:l.readonly)||!1})]},e)}}};return(0,a.jsxs)("div",{className:"w-full max-w-4xl mx-auto mt-8 p-6 bg-card text-card-foreground rounded-lg shadow-xl border border-border backdrop-blur-2xl backdrop-saturate-150",children:[(0,a.jsx)("h2",{className:"text-3xl font-semibold text-center mb-6 text-foreground",children:"Edit GTA Config"}),(0,a.jsx)("div",{className:"space-y-6",children:Object.keys(d).sort().map(e=>(0,a.jsxs)(P,{className:"bg-card text-card-foreground border-border backdrop-blur-2xl backdrop-saturate-150",children:[(0,a.jsxs)(B,{children:[(0,a.jsx)(Q,{className:"text-xl font-bold text-foreground",children:e}),(0,a.jsxs)(U,{className:"text-muted-foreground",children:["Adjust settings related to"," ",e.toLowerCase().replace(" settings",""),"."]})]}),(0,a.jsx)(H,{className:"space-y-4",children:d[e].sort().map(e=>c(e,n[e]))})]},e))}),(0,a.jsx)("div",{className:"mt-8 flex justify-center gap-4",children:(0,a.jsx)(l.$,{onClick:()=>{r(n)},className:"py-3 px-8 bg-primary text-primary-foreground font-bold rounded-md hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",children:"Download Optimized Config"})})]})};var X=r(4962);let G=["text/xml","application/xml"],Z=X.z.object({configfile:X.z.instanceof(File).refine(e=>e.size<=5e5,{message:"File size must be less than 0.5MB"}).refine(e=>G.includes(e.type),{message:"Only .xml files are accepted"})});function $(){let[e,t]=(0,o.useState)(null),[r,i]=(0,o.useState)(null),d=(0,s.mN)({resolver:(0,n.u)(Z),defaultValues:{configfile:void 0}});return(0,a.jsxs)("div",{className:"flex flex-col items-center w-full min-h-screen p-4  text-gray-900 dark:text-gray-50",children:[(0,a.jsx)("div",{className:"text-4xl font-bold mt-[20px] text-center",children:(0,a.jsx)("span",{children:"Optimise your GTA configs with ease"})}),e?(0,a.jsx)(T,{config:e,onSave:e=>{if(!r)return;let t=new Blob([function(e,t){let r=new DOMParser().parseFromString(t,"text/xml");for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)){let a=t.split("."),o=r.documentElement;if(1===a.length&&"VideoCardDescription"===a[0]){let a=r.querySelector("VideoCardDescription");a&&(a.textContent=String(e[t].value));continue}for(let e=0;e<a.length;e++){let t=a[e];if(o){let e=Array.from(o.children).find(e=>e.tagName===t);if(!e){o=null;break}o=e}else break}if(o&&o.hasAttribute("value")){let r=e[t].value;"boolean"==typeof r&&(r=r?"true":"false"),o.setAttribute("value",String(r))}}let a=new XMLSerializer().serializeToString(r);return a.startsWith("<?xml")?a:'<?xml version="1.0" encoding="UTF-8"?>\n'.concat(a)}(e,r)],{type:"text/xml"}),a=URL.createObjectURL(t),o=document.createElement("a");o.href=a,o.download="optimized_settings.xml",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a)}}):(0,a.jsx)("div",{className:"w-full max-w-lg p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md mt-8",children:(0,a.jsx)(u,{...d,children:(0,a.jsxs)("form",{onSubmit:d.handleSubmit(function(e){let r=e.configfile,a=new FileReader;a.onload=e=>{var r;let a=null==(r=e.target)?void 0:r.result;if("string"!=typeof a){d.setError("configfile",{type:"manual",message:"Could not read file content as text."}),t(null),i(null);return}i(a);let o=new DOMParser().parseFromString(a,"text/xml");o.querySelector("parsererror")?(d.setError("configfile",{type:"manual",message:"Invalid XML file format."}),t(null),i(null)):t(function(e){let t={};return e.documentElement&&Array.from(e.documentElement.children).forEach(e=>{!function e(r,a){if(r.hasAttribute("value")){let e=r.getAttribute("value");if(null!==e){let r,o;"true"===e||"false"===e?(r="true"===e,o="boolean"):isNaN(Number(e))||""===e.trim()?(r=e,o="string"):(r=Number(e),o="number"),t[a.join(".")]={value:r,type:o,originalValue:r}}}else"VideoCardDescription"===r.tagName&&null!==r.textContent?t[r.tagName]={value:r.textContent,type:"string",readonly:!0,originalValue:r.textContent}:t[a.join(".")]||(t[a.join(".")]={value:"",type:"container"});Array.from(r.children).forEach(t=>{e(t,[...a,t.tagName])})}(e,[e.tagName])}),t}(o))},a.onerror=()=>{d.setError("configfile",{type:"manual",message:"Could not read file."}),t(null),i(null)},a.readAsText(r)}),className:"space-y-6",children:[(0,a.jsx)(b,{control:d.control,name:"configfile",render:e=>{let{field:{value:t,onChange:r,...o}}=e;return(0,a.jsxs)(f,{children:[(0,a.jsx)(h,{className:"text-lg",children:"Upload Config File"}),(0,a.jsx)(v,{children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(S,{...o,type:"file",className:"flex-grow p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-800 dark:text-gray-200",accept:".xml,text/xml,application/xml",onChange:e=>{var t;r((null==(t=e.target.files)?void 0:t[0])||void 0)}}),(0,a.jsx)(w.A,{className:"text-gray-500 dark:text-gray-400 cursor-pointer hover:text-blue-500",size:24})]})}),(0,a.jsx)(y,{className:"text-red-500"})]})}}),(0,a.jsx)(l.$,{type:"submit",className:"w-full py-2 px-4 bg-blue-600 text-white font-semibold rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:bg-blue-700 dark:hover:bg-blue-800",children:"Load Config"})]})})})]})}},1579:(e,t,r)=>{Promise.resolve().then(r.bind(r,1520))},4142:(e,t,r)=>{"use strict";r.d(t,{cn:()=>l});var a=r(7246),o=r(8327);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,o.QP)((0,a.$)(t))}},6961:(e,t,r)=>{"use strict";r.d(t,{$:()=>d});var a=r(2311),o=r(2847),l=r(5641),n=r(2560),s=r(4142);let i=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-ring",{variants:{variant:{default:"bg-primary/80 text-primary-foreground border border-primary/90 backdrop-blur-2xl backdrop-saturate-150 hover:bg-primary",destructive:"bg-destructive/80 text-destructive-foreground border border-destructive/90 backdrop-blur-2xl backdrop-saturate-150 hover:bg-destructive",outline:"border border-input bg-background/50 backdrop-blur-2xl backdrop-saturate-150 hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary/80 text-secondary-foreground border border-secondary/90 backdrop-blur-2xl backdrop-saturate-150 hover:bg-secondary",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=o.forwardRef((e,t)=>{let{className:r,variant:o,size:n,asChild:d=!1,...c}=e,p=d?l.DX:"button";return(0,a.jsx)(p,{className:(0,s.cn)(i({variant:o,size:n,className:r})),ref:t,...c})});d.displayName="Button"}},e=>{var t=t=>e(e.s=t);e.O(0,[736,583,789,20,358],()=>t(1579)),_N_E=e.O()}]);